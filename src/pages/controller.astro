---
import BaseLayout from '../layouts/BaseLayout.astro';
import '../styles/controller.css';
---

<BaseLayout>
	<h1>Connecter une télécommande</h1>
	<div>
		<label for='stopwatch-id-input'>ID du chronomètre</label>
		<input type='text' id='stopwatch-id-input' />
	</div>
	<a href='#' id='connect-to-stopwatch'>Se connecter</a>
</BaseLayout>

<script>
	const stopwatchIdInput = document.getElementById('stopwatch-id-input') as HTMLInputElement;
	const connectToStopwatchLink = document.getElementById(
		'connect-to-stopwatch'
	) as HTMLAnchorElement;

	stopwatchIdInput.addEventListener('input', () => {
		connectToStopwatchLink.href = `/controller/${stopwatchIdInput.value}`;
	});
</script>
